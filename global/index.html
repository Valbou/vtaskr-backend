<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://valbou.github.io/vtaskr-backend/global/">
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>The project vTaskr - vTaskr Backend</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/fontawesome.min.css" rel="stylesheet">
        <link href="../css/brands.min.css" rel="stylesheet">
        <link href="../css/solid.min.css" rel="stylesheet">
        <link href="../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">vTaskr Backend</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="nav-item">
                                <a href="../getting-started/" class="nav-link">Getting Started</a>
                            </li>
                            <li class="nav-item">
                                <a href="../about/" class="nav-link">About</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a href="https://github.com/Valbou/vtaskr-frontend/edit/master/docs/global/index.md" class="nav-link"><i class="fa-brands fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#the-project-vtaskr" class="nav-link">The project vTaskr</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#git-strategy" class="nav-link">Git Strategy</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#repository-structure" class="nav-link">Repository structure</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#apps-structure" class="nav-link">Apps structure</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#deep-dive-into-apps" class="nav-link">Deep dive into apps:</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="the-project-vtaskr">The project vTaskr</h1>
<p>vTaskr is a project to provide features to manage time and free your mind. This is possible if it's easy to use it.<br />
So productivity and efficiency are mandatory to keep using it. It's the primary focus !<br />
To continue to develop vTaskr with pleasure, we need to keep base code clear, and clearly separate concerns.  </p>
<p>To contribute, please, keep this elements in mind.  </p>
<div class="toc">
<ul>
<li><a href="#the-project-vtaskr">The project vTaskr</a><ul>
<li><a href="#git-strategy">Git Strategy</a></li>
<li><a href="#repository-structure">Repository structure</a></li>
<li><a href="#apps-structure">Apps structure</a></li>
<li><a href="#deep-dive-into-apps">Deep dive into apps:</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="git-strategy">Git Strategy</h2>
<p>Master branch is not really clean (my fault), but I aim to tend to a cleaner history. One feature, one branch with squashed commits.<br />
After merge, branch is deleted.  </p>
<p>We are using a <a href="https://www.conventionalcommits.org/en/v1.0.0/">"conventional commit"</a> like, to help to keep clear commits.  </p>
<p>A <strong>release is done after</strong>: all required features are done, documentation is up to date, translations are up to date, all unit tests passed, some manual end user tests are made, ideally at least a review is done.  </p>
<h2 id="repository-structure">Repository structure</h2>
<p>At first level you can find:  </p>
<ul>
<li><strong>alembic</strong>: used to version database and track migrations.  </li>
<li><strong>docs</strong>: used to provide this documentation with Mkdocs.  </li>
<li><strong>hooks</strong>: some tools to help to be a good developer, and limit commits with bad PEP8 practicises before any CI. Need to be installed manually using shell command provided inside.  </li>
<li><strong>src</strong>: vTaskr source code.  </li>
<li><strong>tests</strong>: vTaskr tests (unit tests and integration tests).  </li>
<li><strong>LICENSE</strong>: just to precise it's a GNU GPL v3 project.  </li>
<li><strong>pyproject.toml</strong>: manage project dependencies and configs.  </li>
<li><strong>README.md</strong>: to help users to find the doc ðŸ˜‡.  </li>
<li><strong>run.sh</strong>: just a helper to run a dev HTTP server locally (if you need it).  </li>
<li><strong>template.env</strong>: a .env template to keep up to date !  </li>
<li><strong>trad_*.hs</strong>: some helpers files to manage translation.  </li>
</ul>
<p>Actually, the project is splitted in "apps" in the "src" sub directory:</p>
<ul>
<li><strong>base</strong>: provide project global utilitaries (like a backend <a href="https://api.vtaskr.com">home page</a>).</li>
<li><strong>colors</strong>: provide elements to manage colors (but may disapear in a near futur to limit dependecies. Initially separated to limit duplicate code...).  </li>
<li><strong>events</strong>: provide a basic internal event service to pass data cross apps.  </li>
<li><strong>libs</strong>: provide external lib specific adapters.  </li>
<li><strong>notifications</strong>: provide features to send informations to a user.  </li>
<li><strong>ports</strong>: provide all bases classes to inherit from, for your adapters.  </li>
<li><strong>static</strong>: provide some assets to insert in backend features like email or backend <a href="https://api.vtaskr.com">home page</a>.  </li>
<li><strong>tasks</strong>: provide elements to manage "to do lists", project management.  </li>
<li><strong>users</strong>: provide elements to manage users authentication and authorizations. This app may be replaced by any Identity and Access Manager (IAM) like Keycloak.  </li>
</ul>
<p>Excepting "libs", "ports", "static", all apps can be seen as a microservice, and could be separated in many dockers instances for scalability.  </p>
<h2 id="apps-structure">Apps structure</h2>
<p>To help developers to find the right file in the good folder, we use an app structure like follow:</p>
<ul>
<li><strong>events</strong>: this folder store observers and app events registry (to send and receive events from/to an other app).</li>
<li><strong>hmi</strong>: store files relative to Human Machine Interfaces, like HTML pages, API, CLI etc... and helpers like DTO etc... This views files may use dedicaded libs like Flask or FastAPI etc... and need a specific folder for each dependendy.</li>
<li><strong>managers</strong>: store files to manage models (use dependency injection to transparently store and retrieve data).</li>
<li><strong>models</strong>: core models for the app. No external lib dependency here (only python batteries included code).</li>
<li><strong>persistence</strong>: contain ports and adapters to access data storage (ORM, SQL/NoSQL, file system etc...). With a sub folder for each lib used (SQLAlchemy, Pewee, Pony...).</li>
<li><strong>services</strong>: store all services usable by a view.</li>
<li><strong>translations</strong>: to store... translations (.pot, .po and .mo files).</li>
<li><strong>flask_config.py</strong>: to setup some dedicaded config to flask. Feel free to create another file for another view lib respecting this pattern: mylib_config.py.</li>
<li><strong>settings.py</strong>: specific settings for the app, need at least a APP_NAME value.</li>
</ul>
<p>This code structure permit to move easily to a new lib with a limited rewrite scoped in the lib folder. We can imagine concurrent use of some libs in the same repo. Why not a Flask implementation and a FastAPI side by side, then you just need to run.sh --flask or run.sh --fastapi to swith !</p>
<p><strong>Feel free to discuss about this code organisation if you have found a better way to do it !</strong></p>
<h2 id="deep-dive-into-apps">Deep dive into apps:</h2>
<ul>
<li><a href="users/">Users</a></li>
<li><a href="tasks/">Tasks</a></li>
<li><a href="notifications/">Notifications</a></li>
<li><a href="events/">Events</a></li>
</ul></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js"></script>
        <script src="../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
